<!DOCTYPE html>
<html>
<head>
    <title>Message Cost Calculator</title>
</head>
 
<body>

<div style="margin: 10px 0; padding: 10px; background-color: #f0f0f0;">
    <a href="toon.html"><button>Toon Game</button></a>
    <a href="message.html"><button>Message Cost</button></a>
    <a href="meal.html"><button>Meal Planner</button></a>
</div>

<h1>Chanakya Thotakura message cost</h1>

<h2>Calculate Message Costs</h2>

<form>
    <label for="standardCharge">Enter cost per letter </label>
    <input type="number" id="standardCharge" name="standardCharge" value="0.50" step="0.01"> <br><br>

    <label for="discountLength">Enter the length needed for the discount </label>
    <input type="number" id="discountLength" name="discountLength" value="20"> <br><br>

    <label for="discountCharge">Enter the discount rate </label>
    <input type="number" id="discountCharge" name="discountCharge" value="0.25" step="0.01"> <br><br>

    <input type="button" onclick="amounts()" value="Show total">
</form>


<p id="result">Results will be displayed here</p>

<hr>

<h2>Radio Button Operations</h2>

<form>
    <input type="radio" id="radio_times" name="operation" value="times" onclick="chooseOp()" checked>
    <label for="radio_times">product</label><br>

    <input type="radio" id="radio_add" name="operation" value="add" onclick="chooseOp()">
    <label for="radio_add">sum</label><br>

    <input type="radio" id="radio_mod" name="operation" value="mod" onclick="chooseOp()">
    <label for="radio_mod">mod</label><br>
</form>

<p id="operationResult">Choose an operation</p>

<script> 

function amounts() {
    console.log("Calculating message costs")
    
    // Get the basic price per letter
    const standardCharge = parseFloat(document.getElementById("standardCharge").value);
    
    // Get the discount position
    const discountPosition = parseInt(document.getElementById("discountLength").value);
    
    // Get the discount cost
    const discountCharge = parseFloat(document.getElementById("discountCharge").value);
    
    // Initialize totalCosts to empty string
    let totalCosts = "";
    
    // Loop from discountPosition-3 to discountPosition+3 (7 iterations)
    for (let size = discountPosition - 3; size <= discountPosition + 3; size++) {
        let cost = 0;
        
        // Calculate cost for each letter
        for (let letter = 1; letter <= size; letter++) {
            if (letter <= discountPosition) {
                cost += standardCharge;
            } else {
                cost += discountCharge;
            }
        }
        
        // Append to totalCosts
        totalCosts += `length ${size} is ${cost.toFixed(2)}; `;
    }
    
    // Update the result display
    const out = document.getElementById("result");
    out.innerHTML = "Totals are: " + totalCosts;
}

function chooseOp() {
    console.log("Performing operation")
    
    // Get price from standardCharge input
    const price = parseFloat(document.getElementById("standardCharge").value);
    
    // Get breakAt from discountLength input
    const breakAt = parseInt(document.getElementById("discountLength").value);
    
    let result;
    let operation;
    
    // Check which radio button is selected
    if (document.getElementById("radio_times").checked) {
        result = price * breakAt;
        operation = "*";
    } else if (document.getElementById("radio_add").checked) {
        result = price + breakAt;
        operation = "+";
    } else if (document.getElementById("radio_mod").checked) {
        result = breakAt % price;
        operation = "%";
    }
    
    // Update the operation result display
    const out = document.getElementById("operationResult");
    out.innerHTML = `${price} ${operation} ${breakAt} is ${result}`;
}
</script>

</body>
</html>
